{"ast":null,"code":"import _objectSpread from\"/home/kevin/Documents/baby-names-spa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/kevin/Documents/baby-names-spa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kevin/Documents/baby-names-spa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/kevin/Documents/baby-names-spa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useDispatch,useSelector}from'react-redux';import{get,patch}from'axios';import{getBabies,enableBaby,disableBaby}from'../redux/actions/baby-actions';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Form from'react-bootstrap/Form';import Jumbotron from'react-bootstrap/Jumbotron';import Button from'react-bootstrap/Button';var encode=function encode(data){return Object.keys(data).map(function(key){return encodeURIComponent(key)+\"=\"+encodeURIComponent(data[key]);}).join(\"&\");};var BabyNameForm=function BabyNameForm(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{babiesList:state.babiesList};}),babiesList=_useSelector.babiesList;var _React$useState=React.useState({baby:{list_id:parseInt(localStorage.getItem('user_id')),\"baby_name\":\"\"}}),_React$useState2=_slicedToArray(_React$useState,2),baby=_React$useState2[0],setBaby=_React$useState2[1];React.useEffect(function(){var gettingBabies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var babies,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:babies=[];_context.prev=1;_context.next=4;return get(\"https://baby-maker-2000-d48f10.netlify.live/.netlify/functions/babies-index\");case 4:response=_context.sent;// const response = await get('https://baby-maker-2000.netlify.app/.netlify/functions/babies-index')\nif(response.status===200){babies=response.data;dispatch(getBabies(babies));}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function gettingBabies(){return _ref.apply(this,arguments);};}();gettingBabies();},[]);var showBabies=function showBabies(){var user=parseInt(localStorage.getItem(\"user_id\"));return babiesList.babies.map(function(baby){if(user===baby.list_id){return/*#__PURE__*/React.createElement(\"div\",{key:baby.id,style:{cursor:\"pointer\"}},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",{onClick:handleClick,id:baby.id,style:{textDecorationLine:baby.enabled?\"none\":\"line-through\"}},baby.baby_name)));}});};var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var thisBaby,babies,i,babyRequest;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();thisBaby={};babies=babiesList.babies;for(i=0;i<babies.length;i++){if(parseInt(e.target.id)===babies[i].id){thisBaby=babies[i];}}if(thisBaby.enabled){thisBaby.enabled=false;dispatch(disableBaby(thisBaby.id));}else{thisBaby.enabled=true;dispatch(enableBaby(thisBaby.id));}babyRequest={\"baby\":{\"id\":thisBaby.id,\"enabled\":thisBaby.enabled}};_context2.prev=6;_context2.next=9;return patch(\"https://baby-maker-2000.netlify.app/.netlify/functions/update-baby\",babyRequest);case 9:_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](6);console.log(_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[6,11]]);}));return function handleClick(_x){return _ref2.apply(this,arguments);};}();window.onload=function(){var element=document.getElementById(\"name-list\");element.scrollTop=element.scrollHeight;};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();console.log(\"\".concat(baby.baby_name));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Container,{style:{margin:'10px'}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"h1\",null,\"The Baby Maker 2000\"),/*#__PURE__*/React.createElement(\"p\",null,\"Simply put in a name and it'll be saved!\"),/*#__PURE__*/React.createElement(\"p\",null,\"Note: To return to this list save your URL some where safe\"),/*#__PURE__*/React.createElement(Form,{name:\"baby\",method:\"post\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",name:\"form-name\",value:\"baby\"}),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Name!\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Baby Name\",name:\"baby-name\",onChange:function onChange(e){return setBaby(_objectSpread(_objectSpread({},baby),{},{baby_name:e.target.value}));}}),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",hidden:true,name:\"list-id\",value:parseInt(localStorage.getItem('user_id'))})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Make Baby!\")))),/*#__PURE__*/React.createElement(Col,{style:{fontSize:\"24px\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"h1\",null,\"Baby Names!\"),/*#__PURE__*/React.createElement(\"ul\",{id:\"name-list\",style:{listStyle:\"none\",overflowAnchor:\"bottom\",overflow:\"scroll\",height:\"50vh\"}},showBabies()))));};export default BabyNameForm;","map":{"version":3,"sources":["/home/kevin/Documents/baby-names-spa/src/components/BabyNameForm.jsx"],"names":["React","useDispatch","useSelector","get","patch","getBabies","enableBaby","disableBaby","Container","Row","Col","Form","Jumbotron","Button","encode","data","Object","keys","map","key","encodeURIComponent","join","BabyNameForm","dispatch","state","babiesList","useState","baby","list_id","parseInt","localStorage","getItem","setBaby","useEffect","gettingBabies","babies","response","status","console","log","showBabies","user","id","cursor","handleClick","textDecorationLine","enabled","baby_name","e","preventDefault","thisBaby","i","length","target","babyRequest","window","onload","element","document","getElementById","scrollTop","scrollHeight","handleSubmit","margin","value","fontSize","textAlign","listStyle","overflowAnchor","overflow","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector} from 'react-redux'\nimport { get, patch } from 'axios'\nimport { getBabies, enableBaby, disableBaby } from '../redux/actions/baby-actions'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Jumbotron from 'react-bootstrap/Jumbotron'\nimport Button from 'react-bootstrap/Button'\n\nconst encode = (data) => {\n    return Object.keys(data)\n        .map(key => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]))\n        .join(\"&\")\n}\n\nconst BabyNameForm = () => {\n\n    const dispatch = useDispatch();\n    const { babiesList } = useSelector(state => ({ babiesList: state.babiesList }))\n    const [ baby, setBaby] = React.useState({\n        baby: {\n            list_id: parseInt(localStorage.getItem('user_id')),\n            \"baby_name\": \"\"\n        }\n    })\n\n    React.useEffect(() => {\n        const gettingBabies = async () => {\n\n           let babies = [];\n           try {\n                const response = await get(\"https://baby-maker-2000-d48f10.netlify.live/.netlify/functions/babies-index\")\n                // const response = await get('https://baby-maker-2000.netlify.app/.netlify/functions/babies-index')\n                if (response.status === 200){\n                        babies = response.data\n                        dispatch(getBabies(babies))\n                }\n           } catch (err){\n                console.log(err)\n           }\n\n        }\n        gettingBabies();\n    }, [])\n\n    const showBabies = () => {\n        let user = parseInt(localStorage.getItem(\"user_id\"))\n        return babiesList.babies.map(baby => {\n            if (user === baby.list_id){\n                return(\n                    <div key={baby.id} style={{cursor: \"pointer\"}}>\n                        <li><br></br>\n                            <p onClick={handleClick} id={baby.id} style={{textDecorationLine: baby.enabled ? \"none\" : \"line-through\",}}>\n                                {baby.baby_name}\n                            </p>\n                        </li>\n                    </div>\n                )\n            }\n        })\n    }\n\n    const handleClick = async (e) => {\n        e.preventDefault()\n        let thisBaby = {}\n        let babies = babiesList.babies\n        for(let i = 0; i < babies.length; i++){\n            if(parseInt(e.target.id) === babies[i].id){\n                thisBaby = babies[i]\n            }\n        }\n        if (thisBaby.enabled){\n            thisBaby.enabled = false\n            dispatch(disableBaby(thisBaby.id))\n        } else {\n            thisBaby.enabled = true\n            dispatch(enableBaby(thisBaby.id))\n        }\n        let babyRequest = {\n            \"baby\": {\n                \"id\": thisBaby.id,\n                \"enabled\": thisBaby.enabled\n            }\n        }\n        try{\n            // await patch(`http://localhost:8888/.netlify/functions/update-baby`, babyRequest)\n            await patch(\"https://baby-maker-2000.netlify.app/.netlify/functions/update-baby\", babyRequest)\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    window.onload=function() {\n        let element = document.getElementById(\"name-list\")\n        element.scrollTop = element.scrollHeight\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        console.log(`${baby.baby_name}`)\n    }\n\n\n    return(\n        <Container style={{ margin: '10px'}}>\n            <Row>\n                <Col>\n                    <Jumbotron>\n                        <h1>The Baby Maker 2000</h1>\n                        <p>Simply put in a name and it'll be saved!</p>\n                        <p>Note: To return to this list save your URL some where safe</p>\n                        <Form name=\"baby\" method=\"post\" onSubmit={handleSubmit}>\n                            <input type=\"hidden\" name=\"form-name\" value=\"baby\" />\n                            <Form.Group>\n                                <Form.Label>Name!</Form.Label>\n                                <Form.Control type=\"text\" placeholder=\"Baby Name\" name=\"baby-name\" onChange={e => setBaby({...baby, baby_name: e.target.value})}/>\n                                <Form.Control type=\"number\" hidden name=\"list-id\" value={parseInt(localStorage.getItem('user_id'))}/>\n                            </Form.Group>\n                            <Button variant=\"primary\" type=\"submit\">\n                                Make Baby!\n                            </Button>\n                        </Form>\n                    </Jumbotron>\n                </Col>\n                <Col style={{fontSize: \"24px\", textAlign: \"center\"}}>\n                    <h1>Baby Names!</h1>\n                    <ul id=\"name-list\" style={{listStyle: \"none\", overflowAnchor: \"bottom\", overflow: \"scroll\", height: \"50vh\"}}>\n                        {showBabies()}\n                    </ul>\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default BabyNameForm;"]},"metadata":{},"sourceType":"module"}