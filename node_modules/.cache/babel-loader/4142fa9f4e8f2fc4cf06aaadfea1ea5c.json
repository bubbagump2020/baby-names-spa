{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Documents/baby-names-spa/src/components/BabyNameForm.jsx\";\nimport React from 'react';\nimport { get, patch } from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getBabies, babyName } from '../redux/actions/baby-actions';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Spinner from 'react-bootstrap/Spinner';\nimport './BabyNameForm.css';\nimport { toast } from 'react-toastify';\n\nconst encode = data => {\n  return Object.keys(data).map(key => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key])).join(\"&\");\n};\n\nconst BabyNameForm = () => {\n  const dispatch = useDispatch();\n  const {\n    baby\n  } = useSelector(state => ({\n    baby: state.babiesList.baby\n  }));\n  const {\n    babies\n  } = useSelector(state => ({\n    babies: state.babiesList.babies\n  }));\n  React.useEffect(() => {\n    const gettingBabies = async () => {\n      try {\n        const response = await get('http://localhost:8888/.netlify/functions/babies-index'); // const response = await get('https://baby-maker-2000.netlify.app/.netlify/functions/babies-index')\n\n        if (response.status === 200 && response.data !== \"\") {\n          dispatch(getBabies(response.data));\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    gettingBabies();\n  }, []);\n\n  const handleSubmit = e => {\n    let newBabyArray = [];\n    newBabyArray = babies.babies;\n    newBabyArray.push(baby);\n    dispatch(getBabies(newBabyArray));\n    fetch(\"/index.html\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: encode({\n        \"form-name\": \"baby\",\n        ...baby\n      })\n    }).then(() => alert(\"Submitted! If no baby shows up then a baby with that name already exists\")).catch(error => console.log(error));\n    e.preventDefault();\n  };\n\n  const showBabies = () => {\n    if (babies.babies === undefined) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 20\n        }\n      });\n    } else {\n      const sortedBabies = babies.babies.sort();\n      return sortedBabies.map(baby => {\n        const position = sortedBabies.indexOf(baby) + 1;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: baby['baby-name'],\n          style: {\n            cursor: \"pointer\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 30\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          id: baby['baby-name'],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }\n        }, position, \". \", baby['baby-name'])));\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    style: {\n      margin: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"The Baby Maker 2000\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \"Simply put in a name and it'll be saved!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, \"Note: To return to this list save your URL some where safe\"), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"form\",\n    name: \"baby\",\n    \"data-netlify\": \"true\",\n    method: \"post\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  }, \"Name! \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    id: \"name-input\",\n    placeholder: \"Baby Name!\",\n    type: \"text\",\n    name: \"baby-name\",\n    value: baby['baby-name'],\n    onChange: e => dispatch(babyName(e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    hidden: true,\n    type: \"text\",\n    name: \"list-id\",\n    value: baby['list-id'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    id: \"submit-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }, \"Make baby!\"))))), /*#__PURE__*/React.createElement(Col, {\n    style: {\n      fontSize: \"24px\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"Baby Names!\"), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"name-list\",\n    style: {\n      listStyle: \"none\",\n      overflowAnchor: \"bottom\",\n      overflow: \"scroll\",\n      height: \"50vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, showBabies()))));\n};\n\nexport default BabyNameForm;","map":{"version":3,"sources":["/home/kevin/Documents/baby-names-spa/src/components/BabyNameForm.jsx"],"names":["React","get","patch","Container","useDispatch","useSelector","getBabies","babyName","Row","Col","Jumbotron","Spinner","toast","encode","data","Object","keys","map","key","encodeURIComponent","join","BabyNameForm","dispatch","baby","state","babiesList","babies","useEffect","gettingBabies","response","status","err","console","log","handleSubmit","e","newBabyArray","push","fetch","method","headers","body","then","alert","catch","error","preventDefault","showBabies","undefined","sortedBabies","sort","position","indexOf","cursor","margin","target","value","fontSize","textAlign","listStyle","overflowAnchor","overflow","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { get, patch } from 'axios'\nimport Container from 'react-bootstrap/Container'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getBabies, babyName } from '../redux/actions/baby-actions'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Jumbotron from 'react-bootstrap/Jumbotron'\nimport Spinner from 'react-bootstrap/Spinner'\nimport './BabyNameForm.css'\nimport { toast } from 'react-toastify'\n\nconst encode = (data) => {\n    return Object.keys(data)\n        .map(key => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]))\n        .join(\"&\")\n}\n\nconst BabyNameForm = () => {\n\n    const dispatch = useDispatch()\n    const { baby } = useSelector(state => ({ baby: state.babiesList.baby}))\n    const { babies } = useSelector(state => ({ babies: state.babiesList.babies}))\n\n    React.useEffect(() => {\n        const gettingBabies = async () => {\n           try {\n                const response = await get('http://localhost:8888/.netlify/functions/babies-index')\n                // const response = await get('https://baby-maker-2000.netlify.app/.netlify/functions/babies-index')\n                if (response.status === 200 && response.data !== \"\"){\n                        dispatch(getBabies(response.data))\n                }\n           } catch (err){\n                console.log(err)\n           }\n        }\n        gettingBabies();\n    }, [])\n\n    const handleSubmit = (e) => {\n        let newBabyArray = []\n        newBabyArray = babies.babies\n        newBabyArray.push(baby)\n        dispatch(getBabies(newBabyArray))\n        fetch(\"/index.html\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body: encode({\"form-name\": \"baby\", ...baby})\n        })\n            .then(() => alert(\"Submitted! If no baby shows up then a baby with that name already exists\"))\n            .catch(error => console.log(error))\n        e.preventDefault()\n    }\n\n    const showBabies = () => {\n        if(babies.babies === undefined) {\n            return <Spinner animation=\"border\" role=\"status\" />\n        } else {\n            const sortedBabies = babies.babies.sort()\n            return sortedBabies.map(baby => {\n        \n                const position = sortedBabies.indexOf(baby) + 1\n                return(\n                    <div key={baby['baby-name']} style={{cursor: \"pointer\"}}>\n                        <li ><br></br>\n                            <p id={baby['baby-name']} >\n                               {position}. {baby['baby-name']}\n                            </p>\n                        </li>\n                    </div>\n                )\n            })\n        }\n    }\n\n    return(\n        <Container style={{ margin: '10px'}}>\n            <Row>\n                <Col>\n                    <Jumbotron>\n                        <h1>The Baby Maker 2000</h1>\n                        <p>Simply put in a name and it'll be saved!</p>\n                        <p>Note: To return to this list save your URL some where safe</p>\n                        <form id=\"form\" name=\"baby\" data-netlify=\"true\" method=\"post\" onSubmit={handleSubmit}>\n                            <div>\n                                <label>Name! </label>\n                                <div>\n                                    <input required id=\"name-input\" placeholder=\"Baby Name!\" type=\"text\" name=\"baby-name\" value={baby['baby-name']} onChange={e => dispatch(babyName(e.target.value))} />\n                                    <input hidden type=\"text\" name=\"list-id\" value={baby['list-id']} />\n                                    {/* <input hidden name=\"enabled\" checkbox value=\"true\"/> */}\n                                </div>\n                            </div><br></br>\n                            <div>\n                                <button type=\"submit\" id=\"submit-button\">Make baby!</button>\n                            </div>\n                        </form>\n                    </Jumbotron>\n                </Col>\n                <Col style={{fontSize: \"24px\", textAlign: \"center\"}}>\n                    <h1>Baby Names!</h1>\n                    <ul id=\"name-list\" style={{listStyle: \"none\", overflowAnchor: \"bottom\", overflow: \"scroll\", height: \"50vh\"}}>\n                        {showBabies()}\n                    </ul>\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default BabyNameForm;"]},"metadata":{},"sourceType":"module"}